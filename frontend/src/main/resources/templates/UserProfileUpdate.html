<!DOCTYPE html>
<html>
<!--USER_PROFILE_UPDATE FRONT_END-->

<head>
    <title>Profile Update</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <link rel="stylesheet" href="script/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" >
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

     
    <script type="application/javascript" src="./scripts/compress.js"></script>
    <script type="application/javascript" src="./scripts/UserProfileUpdate.js"></script>
    <link rel="icon" href="static/CollReach.PNG" type="image/x-icon" />
    <link rel="stylesheet" href="https://drive.google.com/uc?id=1jLrfISsLUcRiwgNl0koSfsS6lylj0E7h">
    
    <link rel="icon" href="static/CollReach.PNG" type="image/x-icon">
    <link rel="icon" href="static/profileimage.webp" type="image/x-icon">
    <!-- <link rel="stylesheet" href="projectcss.css"> -->
    <link rel="icon" href="static/CollReach.PNG" type="image/x-icon">
    <link rel="stylesheet" href="style/UserProfileUpdateCss.css">

    <title>Profile Update</title>
    

    <script type="text/javascript">
        const URL_ORIGIN = location.origin.replace(/.{0,5}$/, '');

        // var arr = new Array();
        let skillMap = {};
        var userInfo = "";

        // checks password validity
        function validatePassword() {
            var newPassword = document.passwordUpdate.newPassword.value;
            if (newPassword === "" || /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/.test(newPassword) != true) {
                alert("Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters");
                return false;
            }
            return true;
        }


        //checks email correctness
        function emailcorrector() {
            var personalEmail = document.personalEmailUpdate.personalEmail.value;
            if (personalEmail === "" || /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(personalEmail) != true) {
                alert("Personal email is wrong");
                return false;
            }
            return true;
        }
        
        
        //checks linkedin link correctness
        function linkedIncorrector() {
            var linkedIn = document.linkedInUpdate.linkedIn.value;
            if (linkedIn === "" || /((https?:\/\/)?((www|\w\w)\.)?linkedin\.com\/)((([\w]{2,3})?)|([^\/]+\/(([\w|\d-&#?=])+\/?){1,}))$/.test(linkedIn) != true) {
                alert("Wrong LinkedIn link");
                return false;
            }
            return true;
        }

        function phoneNoCorrector() {
            var phoneNo = document.phoneNoUpdate.phoneNo.value;
            if (phoneNo === "" || phoneNo.length != 10) {
                alert("Wrong Phone no");
                return false;
            }
            return true;
        }
        
        //checks if the email exists or not
        function validateEmail() {
            var personalEmail = document.personalEmailUpdate.personalEmail.value;
            personalEmail = (personalEmail === "" ? "null" : personalEmail);

            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/check-email";
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log(xhr.responseText);
                    var errorMsg = document.getElementById("validateEmail");
                    if (xhr.responseText != "") {
                        document.getElementById("personalEmail").style.background = "red";
                        document.getElementById("personalEmail").style.color = "white";
                        errorMsg.style.display = "block";
                        errorMsg.innerHTML = (xhr.responseText);
                        errorMsg.style.color = "red";
                    } else if (personalEmail === "" || xhr.responseText === "") {
                        document.getElementById("personalEmail").style.background = "white";
                        document.getElementById("personalEmail").style.color = "black";
                        errorMsg.style.display = "none";
                    }
                }
            };
            var data = JSON.stringify({
                "email": personalEmail.trim()
            });
            xhr.send(data);
        }
        
        
        //checks if phone number exists or not
        function validatePhoneNo() {
            var phoneNo = document.phoneNoUpdate.phoneNo.value;
            phoneNo = (phoneNo === "" ? "null" : phoneNo);

            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/check-phone-no";
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log(xhr.responseText);
                    var errorMsg = document.getElementById("phoneNovalidation");
                    if (xhr.responseText != "") {
                        document.getElementById("phoneNo").style.background = "red";
                        document.getElementById("phoneNo").style.color = "white";
                        errorMsg.style.display = "block";
                        errorMsg.innerHTML = (xhr.responseText);
                        errorMsg.style.color = "red";
                    } else if (phoneNo === "" || xhr.responseText === "") {
                        document.getElementById("phoneNo").style.background = "white";
                        document.getElementById("phoneNo").style.color = "black";
                        errorMsg.style.display = "none";
                    }
                }
            };
            var data = JSON.stringify({
                "phoneNo": phoneNo.trim()
            });
            xhr.send(data);
        }

        //checks if linkedin link exists or not
        function validatelinkedInlink() {
            var linkedIn = document.linkedInUpdate.linkedIn.value;
            linkedIn = (linkedIn === "" ? "null" : linkedIn);

            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/check-linkedin-link";
            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    console.log(xhr.responseText);
                    var errorMsg = document.getElementById("linkedInvalidation");
                    if (xhr.responseText != "") {
                        document.getElementById("linkedIn").style.background = "red";
                        document.getElementById("linkedIn").style.color = "white";
                        errorMsg.style.display = "block";
                        errorMsg.innerHTML = (xhr.responseText);
                        errorMsg.style.color = "red";
                    } else if (linkedIn === "" || xhr.responseText === "") {
                        document.getElementById("linkedIn").style.background = "white";
                        document.getElementById("linkedIn").style.color = "black";
                        errorMsg.style.display = "none";
                    }
                }
            };
            var data = JSON.stringify({
                "linkedinLink": linkedIn.trim()
            });
            xhr.send(data);
        }
        
        
        //updates Alternative Email
        function EmailUpdate() {
            var personalEmail = document.personalEmailUpdate.personalEmail.value;
            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/alternate-email";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "alternateEmail": personalEmail.trim()

            });
            xhr.send(data);
        }
        //Updates Phone Number
        function phonenoUpdate() {
            var phoneNo = document.phoneNoUpdate.phoneNo.value;
            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/phone-no";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg1");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "phoneNo": phoneNo.trim()
            });
            xhr.send(data);
        }
        
        //updates Description
        function DescriptionUpdate() {
            var description = document.descriptionUpdate.description.value.trim();
            if(description === ""){
                alert("Description is Empty!!");
                return;
            }

            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/description";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg2");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "description": description.trim()

            });
            xhr.send(data);

        }
        //update linkedin link
        function linkedinUpdate() {
            if(!linkedIncorrector) return;

            var linkedIn = document.linkedInUpdate.linkedIn.value;
            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/linkedin-link";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg3");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "linkedinLink": linkedIn.trim()

            });
            xhr.send(data);

        }
        
        
        // function courseIdMapping(course,branch,sem,year) {
        //     var courseId;
                    
        //     if ((course == "B.tech") && (branch == "CSE") && (sem == "5") && (year == "3"))
        //         courseId = 1;
        //     else if ((course == "B.tech") && (branch == "CSE") && (sem == "4") && (year == "2"))
        //         courseId = 3;
        //     else if ((course == "B.tech") && (branch == "ME") && (sem == "5") && (year == "3"))
        //         courseId = 2;
        //     else if ((course == "B.tech") && (branch == "EN") && (sem == "5") && (year == "3"))
        //         courseId = 11;
        //     else if ((course == "B.tech") && (branch == "ECE") && (sem == "5") && (year == "3"))
        //         courseId = 4;
        //     else if ((course == "B.tech") && (branch == "CE") && (sem == "5") && (year == "3"))
        //         courseId = 5;
        //     else if ((course == "B.tech") && (branch == "CSI") && (sem == "7") && (year == "4"))
        //         courseId = 6;
        //     else if ((course == "B.tech") && (branch == "CO") && (sem == "5") && (year == "3"))
        //         courseId = 7;
        //     else if ((course == "B.tech") && (branch == "IT") && (sem == "5") && (year == "3"))
        //         courseId = 8;
        //     else if ((course == "B.tech") && (branch == "EIE") && (sem == "5") && (year == "3"))
        //         courseId = 9;
        //     else if ((course == "B.tech") && (branch = "ECE") && (sem == "4") && (year == "2"))
        //         courseId = 10;
            
        //     return courseId;
        // }
        
        // update semester and year
        // function YearsemUpdate() {
        //     var courseId;
        //     var xhr = new XMLHttpRequest();
        //     var url = URL_ORIGIN + ":8082/user/login";
        //     xhr.open("POST", url, true);
        //     xhr.setRequestHeader("Content-Type", "application/json");
        //     xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
        //     xhr.onreadystatechange = function() {
        //         if (xhr.readyState === 4 && xhr.status === 200) {
        //             console.log(xhr.responseText);
        //             userInfo = JSON.parse(xhr.responseText);
        //             console.log("userInfo" + userInfo.userPersonalInfoResponse.courseInfoResponse.courseName);
                    
        //             console.log("inside mapping" + userInfo);
        //             var course = userInfo.userPersonalInfoResponse.courseInfoResponse.courseName;
        //             var branch = userInfo.userPersonalInfoResponse.courseInfoResponse.branch;
        //             var sem = document.yearsemUpdate.sem.value;
        //             var year = String(Math.ceil(Number(sem) / 2));
        //             console.log(year +" " + branch + " " + course);
                    
        //             courseId = courseIdMapping(course,branch,sem,year);
                        
        //             console.log("courseInfo : " + courseId);
        //             var xhr2 = new XMLHttpRequest();
        //             var url = URL_ORIGIN + ":8082/user/course-id";
        //             xhr2.open("PUT", url, true);
        //             xhr2.setRequestHeader("Content-Type", "application/json");
        //             xhr2.setRequestHeader("Authorization", localStorage.getItem('auth'));
        //             xhr2.onreadystatechange = function() {
        //                 if (xhr2.readyState === 4 && xhr2.status === 200) {
        //                     var responseMsg = xhr2.responseText;
        //                     console.log(responseMsg);
        //                     var msg = document.getElementById("msg4");
        //                     msg.innerHTML = "</br>" + (xhr2.responseText);
        //                     if (responseMsg.includes("Error"))
        //                         msg.style.color = "red";
        //                     else
        //                         msg.style.color = "green";
        //                 }
        //             };
        //             var data2 = JSON.stringify({
        //                 "userName": localStorage.getItem('username'),
        //                 "courseId": courseId
        //             });
        //             xhr2.send(data2);
                    
        //         }
        //     };
        //     var data = JSON.stringify({
        //         "userName": localStorage.getItem('username')
        //     });
        //     xhr.send(data);
        // }
        
        // update semester and year
        async function YearsemUpdate() {
            const SEM  = Number(document.yearsemUpdate.sem.value);
            const USERNAME = localStorage.getItem('username');
            const URL = `${URL_ORIGIN}:8082/user/semester?semester=${SEM}&username=${USERNAME}`
            let response = await fetch(URL, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                    'Authorization': localStorage.getItem('auth').trim(),
                },
                body: JSON.stringify(""),
            });
            response = await response.text();
            var msg = document.getElementById("msg4");
            msg.innerHTML = "</br>" + (response);
            if (response.includes("Error") || response.includes("invalid"))
                msg.style.color = "red";
            else
                msg.style.color = "green";
        }
        
        //change password
        function PasswordUpdate() {
            var newPassword = document.passwordUpdate.newPassword.value;
            var password = document.passwordUpdate.password.value;
            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/password";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg6");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "password": password.trim(),
                "newPassword": newPassword.trim()

            });
            xhr.send(data);
        }
        
        //send password to backend after proper validations
        function sendPasswordData() {
            if (validatePassword() == true) {
                PasswordUpdate();
            } else
                return false;
        }
        
        
        //send email to backend after proper validations
        function sendEmailData() {
            if (emailcorrector() == true) {
                EmailUpdate();
            } else
                return false;
        }

        
        //send updated linkedIn link to database
        function linkedInDataSend() {
            if (linkedIncorrector() == true) {
                linkedinUpdate();
            } else
                return false;
        }

        //send updated phone No to database
        function phoneNoDataSend() {
            if (phoneNoCorrector() == true) {
                phonenoUpdate();
            } else
                return false;
        }


        // function skillIdmapping(skill) {
        //     //var skill = document.skillUpdate.skill.value;
        //     if (skill == "AI")
        //         return 5;  //9
        //     else if (skill == "Android")
        //         return 2;  //11
        //     else if (skill == "Deep Learning")
        //         return 4;  // 10
        //     else if (skill == "ML")
        //         return 3;   // 7
        //     else if (skill == "Web Development")
        //         return 1;   // 8
        // }
        
        function skillUpdate() {
            if(Object.keys(skillMap).length === 0)
                return;

            var xhr = new XMLHttpRequest();
            var url = URL_ORIGIN + ":8082/user/skills";
            xhr.open("PUT", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            xhr.setRequestHeader("Authorization", localStorage.getItem('auth'));
            xhr.onreadystatechange = function() {
                if (xhr.readyState === 4 && xhr.status === 200) {
                    var responseMsg = xhr.responseText;
                    console.log(responseMsg);
                    var msg = document.getElementById("msg5");
                    msg.innerHTML = "</br>" + (xhr.responseText);
                    if (responseMsg.includes("Error"))
                        msg.style.color = "red";
                    else
                        msg.style.color = "green";
                }
            };
            var mappedSkills = [];
            // for(var i = 0; i < arr.length; i++){
            //     mappedSkills.push(skillIdmapping(arr[i]));
            // }

            for (const [skillId, skill] of Object.entries(skillMap))
                mappedSkills.push(skillId);

            console.log(mappedSkills);
            var data = JSON.stringify({
                "userName": localStorage.getItem('username'),
                "skills": mappedSkills
            });
            xhr.send(data);
        }


        function addSkill(elem) {
            let currentSkillOption  = elem.options[ elem.selectedIndex ];

            var text = document.getElementById("skill").value;
            console.log(text);
            //var node = document.createElement("LI");
            //var textnode = document.createTextNode(text);
            //node.appendChild(textnode);
            var skills = document.getElementById("skillset");
            if (!(currentSkillOption.dataset.skillId in skillMap)) {
                var skill = document.createElement("div");
                skill.setAttribute("class", "skill-item");
                var textnode = document.createTextNode(text);
                var cross = document.createElement('div');
                skill.appendChild(textnode);
                cross.setAttribute("class", "skill-item-cross");
                cross.setAttribute('onclick','removeskill(this)');
                cross.setAttribute('data-skill-id', currentSkillOption.dataset.skillId);
                cross.innerHTML = "   &#10005;";
                skill.appendChild(cross);
                // skill.style.margin = "10px";
                // skill.style.padding = "5px";
                // skill.style.paddingLeft = "15px";
                // skill.style.paddingRight = "15px";
                // skill.style.backgroundColor = "purple";
                // skill.style.color = "white";
                // skill.style.borderRadius = "60px";
                skill.style.display = "block";
                skills.appendChild(skill);

                //document.getElementById("myList").appendChild(node);
                // arr.push(text);
                skillMap[currentSkillOption.dataset.skillId] = currentSkillOption.value;
                console.log(skillMap);

                // var newDiv = document.createElement('div'); 
                // var cross = document.createElement('div');
                // newDiv.setAttribute("class", "skill-item");
                // cross.setAttribute("class", "skill-item-cross");
                // cross.setAttribute('onclick','removeskill(this)');
                // cross.innerHTML = "   &#10005;";
                // newDiv.innerHTML = value;
                // newDiv.appendChild(cross);
                // skills.appendChild(newDiv);
                // // //document.getElementById("myList").appendChild(node);
                // arr.push(text);
                // console.log(arr);
            }
        }
        function removeskill(elem){
                console.log(elem);
                // removeItemOnce(elem.dataset.skillName);
                delete skillMap[elem.dataset.skillId];
                $(elem).parent('div.skill-item').remove();
        }

        // function removeItemOnce(value) {
        //     var index = arr.indexOf(value);
        //     if (index > -1) {
        //         arr.splice(index, 1);
        //     }
        // }
    </script>
</head>
<body>
    <nav class="navbar fixed-top navbar-expand-md navbar-light bg-light ">
        
        <div class="d-flex container" id="navv">
            <div class="collreach">
                <a href="" class="navbar-brand"><span style="color:#6C67FD">Coll</span><span id="heading">Reach</span></a>
            </div>

            <button class="navbar-toggler" data-toggle="collapse" data-target="#list">
                <span class="navbar-toggler-icon"></span></button>
  
          

            <div class="collapse navbar-collapse login-buttons" id="list">



                <ul class="navbar-nav text-center ml-auto">
                    <li class="nav-item">
                        <a href= "/posts" class="nav-link">
                            <i class="fas fa-home"></i>
                            
                        </a>
                    </li>
                    <li class="nav-item">
                        <a href="/profile" class="nav-link">
                            <img src="static/profileimage.webp" class="img-sm rounded-circle user-profile-photo-icon" alt="img not found">
                        </a>
                    </li>

                </ul>
                <!-- <div class="d-flex flex-row ml-auto navbar-nav text-center ml-auto">
                    <div class="navbar-btn">
                        <a href="http://localhost:8084/CollReachPosts.html" class="nav-link">
                            <i class="fas fa-home"></i>
                            <p id="info">Home</p>
                        </a>     
                    </div>
                    <div class="navbar-btn">
                    
                    </div>
                </div> -->
            </div> 
    
        </div>
    </nav>
    
<div class='main-area'>
    <div class="container">
        <div class="d-flex flex-row">
            <div class="p-2">
                <a href="" >
                    <img src="static/profileimage.webp" class="img-md rounded-circle profile-image" alt="img not found">
                </a>
            </div>
            <div class="p-2 flex-grow-1">
                <div class = "font-big profile-name">
                    ----
                </div>
                <div class="small-text text-muted">
                    Your Personal Account
                </div>
            </div>
        </div>
    </div>


    <!-- heading -->
    <div class="container">
        <div class="d-flex flex-column">
            <div class="p-2 font-big header">
                Personal Details
            </div>

            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="personalEmailUpdate" method="post" action="#">
                        <label for="personalEmail">Personal Email</label>
                        

                        <!-- Main input area -->
                        <input class="form-control normal-box" type="text" id="personalEmail" name="personalEmail"
                                placeholder="mail ID" onkeyup="validateEmail()">

                        

                        <p id="validateEmail" style="display: none;">aa</p>

                        <p id="msg"></p>
                    </form>

                </div>
                <div class="update-btn">
                    <input class="btn btn-secondary" type="button" value="Update" onclick="sendEmailData()">
                </div>
            </div>

            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="phoneNoUpdate" method="post" action="#">
                        <label for="phoneNo">Phone Number</label>

                        

                            <!-- Main input area -->
                            <input class="form-control normal-box" type="text" id="phoneNo" name="phoneNo" placeholder="Phone No."
                                onkeyup="validatePhoneNo()">
              

                 
                        <p id="phoneNovalidation" style="display:none;"></p>

                        <p id="msg1"></p>
                    </form>
                </div>
                <div class="update-btn">
                    <input class="btn btn-secondary" type="button" value="Update" onclick="phoneNoDataSend()">
                </div>
            </div>

            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="linkedInUpdate" method="post" action="#">
                        <label for="linkedIn">LinkedIn Link</label>

                        
                            <input class="form-control normal-box" type="text" id="linkedIn" placeholder="LinkedIn ID"
                                name="linkedIn" onkeyup="validatelinkedInlink()">
                   
                        

                        <p id="linkedInvalidation" style="display:none;"></p>

                        <p id="msg3"></p>
                    </form>
                </div>
                <div class="update-btn">
                    <input id="lin-button" class="btn btn-secondary" type="button" value="Update"
                            onclick="linkedInDataSend()">
                </div>
            </div>


            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="descriptionUpdate" method="post" action="#">
                        <label for="description">Description</label>

                        

                            <!-- Main input area -->
                            <textarea class="form-control" id="description" placeholder="About me" name="description"
                                maxlength="200"></textarea>

                       

                        <p id="msg2"></p>
                    </form>
                </div>
                <div class="update-btn">
                    <input class="btn btn-secondary" type="button" value="Update" onclick="DescriptionUpdate()">
                </div>
            </div>

        </div>
    </div>



    <!-- heading -->
    <div class="container">
        <div class="d-flex flex-column">
            <div class="p-2 font-big header">
               Password Update
            </div>

            <div class="p-2 d-flex flex-column ">
                <form name="passwordUpdate" method="post" action="#" class="w-100">
                    <div class=" input-field updation-area pass">
                    
                        <label for="password">Current Password</label>
                        <!-- Main input area -->
                        <input class="form-control normal-box" type="text" placeholder="Current Password" id="password"
                            name="password">
                            
    
                    </div>
                    <div class="input-field updation-area pass">
                        
                        <label for="newPassword">New Password</label>
                        <!-- Main input area -->
                        <input class="form-control normal-box" type="text" placeholder="New Password" id="newPassword"
                            name="newPassword">
                     </div>
                     <div class="float-right updation-area">
                        <input class="btn btn-secondary" type="button" value="Confirm" id="password-button"
                        onclick="sendPasswordData()">
                    
                     </div>
                     <p id="msg6"></p>
                </form>
                
            </div>
        </div>
    </div>


    <!-- heading -->
    <div class="container">
        <div class="d-flex flex-column">
            <div class="p-2 font-big header">
                College Details
            </div>

            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="yearsemUpdate" method="post" action="#">
                        <label for="sem">Semester</label>


                            <!-- Main input area -->
                        <select class="form-control normal-box" id="sem" name="sem">
                            <option value="none">Select semester</option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option value="8">8</option>
                        </select>

                        

                        <p id="msg4"></p>
                    </form>

                </div>
                <div class="update-btn">
                    <input id="sem-button" class="btn btn-secondary" type="button" value="Update"
                    onclick="YearsemUpdate()">
                </div>
            </div>

            <div class="p-2 d-flex flex-row updation-area">
                <div class="flex-grow-1 input-field">
                    
                    <form name="skillupdate" method="post" action="#">
                        <div class="form-group">
                        <label for="skill">Skills</label>

                        <!--Skills fetched from server at runtime in here-->
                        <!--datalist id = "skills-list"></datalist-->
                        

                            <!-- Main input area -->
                            <select class="form-control normal-box skills-list" id="skill" name="skill"  onchange="addSkill(this)">
                                <!-- <option value="AI">AI</option>
                                <option value="Web Development">Web Developement</option>
                                <option value="ML">ML</option>
                                <option value="Deep Learning">Deep Learning</option>
                                <option value="Android">Android</option> -->
                                <!--option value = "" selected>Select Skills</option>
                                <option value = "java">Java</option>
                                <option value = "python">Python</option>
                                <option value = "b">B</option>
                              
                                <option value = "c#">C#</option>
                                <option value = "perl">Perl</option>
                                <option value = "html">Html</option>
                                <option value = "css">CSS</option>
                                <option value = "javascript">JavaScript</option>
                                <option value = "machine learning">Machine learning</option>
                                <option value = "deep learning">Deep Learning</option>
                                <option value = "ai">A.I</option>
                                <option value = "big data">Big Data</option>
                                <option value = "hadoop">Hadoop</option>
                                <option value = "c/c++">C/C++</option>
                                <option value = "dbms">DBMS</option>
                                <option value = "database">Database</option>
                                <option value = "operating system">Operating System</option>
                                <option value = "spring">Spring</option>
                                <option value = "spring boot">Spring boot</option>
                           
                                <option value = "mysql">MySQL</option>
                                <option value = "oracle">oracle</option>
                                <option value = "postgresql">Postgresql</option>
                                <option value = "sqlite">SQLite</option>
                                <option value = "data analytics">Data Analytics</option>
                                <option value = "data mining">Data Mining</option>
                                <option value = "php">PHP</option>
                                <option value = "rust">Rust</option>
                                <option value = "networking">Networking</option>
                                <option value = "unit testing">Unit Testing</option>
                                <option value = "seo">SEO</option>
                                <option value = "photography">Photography</option>
                                <option value = "web analytics">Web Analytics</option>
                                <option value = "web automation">Web Automation</option>
                                <option value = "cms">Cms</option>
                                <option value = "hr">HR</option>
                                <option value = "git">GIT</option>
                                <option value = "ms office">MS Office</option>
                                <option value = "ms excel"> MS Excel</option>
                                <option value = "ms powerpoint">MS Power Point</option>
                                <option value = "intellij">IntelliJ</option>
                                <option value = "vs code">VS Code</option>
                                <option value = "docker">Docker</option>
                                <option value = "microservices">Microservices</option--> 
                               
                            </select>
                        </div>
                        <p id="skill-box">Selected skill will show here..</p>
                        <div id="skillset" class="d-flex flex-row flex-wrap" ></div>
              
                        <p id="msg5"></p>
                    </form>
                </div>
                <div class="update-btn">
                    <input class="btn btn-secondary" type="button" value="Update" onclick="skillUpdate()">
                </div>
            </div>

        </div>
    </div>

</div>


















<!-- 
    <div class="container">
        <div class="row">
            <div class="col-md-12" id="titles">
                <h3>PERSONAL DETAILS</h3>
            </div> -->
<!-- 
            <div class="col-md-6">
                <div class="card">
                    <form name="personalEmailUpdate" method="post" action="#">
                        <label for="personalEmail">Personal Email</label>
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>

                           
                            <input class="form-control" type="text" id="personalEmail" name="personalEmail"
                                placeholder="mail ID" onkeyup="validateEmail()">

                        </div>
                        <input class="btn btn-secondary" type="button" value="Update" onclick="sendEmailData()">

                        <p id="validateEmail" style="display: none;"></p>

                        <p id="msg"></p>
                    </form>
                </div>
            </div> -->


            <!-- <div class="col-md-6">
                <div class="card">
                    <form name="phoneNoUpdate" method="post" action="#">
                        <label for="phoneNo">Phone Number</label>

                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-phone"></i></span>

                  
                            <input class="form-control" type="text" id="phoneNo" name="phoneNo" placeholder="Phone No."
                                onkeyup="validatePhoneNo()">
                        </div>

                        <input class="btn btn-secondary" type="button" value="Update" onclick="phonenoUpdate()">
                        <p id="PhoneNovalidation" style="display:none;"></p>

                        <p id="msg1"></p>
                    </form>
                </div>
            </div> -->
<!-- 

            <div class="col-md-6" id="grid-adjust">
                <div class="card" id="des-card">
                    <form name="descriptionUpdate" method="post" action="#">
                        <label for="description">Description</label>

                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>

                    
                            <textarea class="form-control" id="description" placeholder="About me" name="description"
                                maxlength="200"></textarea>

                        </div>
                        <input class="btn btn-secondary" type="button" value="Update" onclick="DescriptionUpdate()">

                        <p id="msg2"></p>
                    </form>
                </div>
            </div> -->


            <!-- <div class="col-md-6" id="grid-adjust1">
                <div class="card" id="lin-card">
                    <form name="linkedInUpdate" method="post" action="#">
                        <label for="linkedIn">LinkedIn Link</label>

                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-paperclip"></i></span>

                            <input class="form-control" type="text" id="linkedIn" placeholder="LinkedIn ID"
                                name="linkedIn" onkeyup="validatelinkedInlink()">
                        </div>
                        <input id="lin-button" class="btn btn-secondary" type="button" value="Update"
                            onclick="linkedInDataSend()">

                        <p id="linkedInvalidation" style="display:none;"></p>

                        <p id="msg3"></p>
                    </form>
                </div>
            </div> -->






            <!-- <div class="col-md-12" id="titles">
                <h3>UPDATE COLLEGE DETAILS</h3>
            </div>

            <div class="col-md-6">
                <div class="card" id="sem-card">
                    <form name="yearsemUpdate" method="post" action="#">
                        <label for="sem">Semester</label>

                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-book"></i></span>

            
                            <select class="form-control" id="sem" name="sem">
                                <option value="none">Select semester</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                                <option value="6">6</option>
                                <option value="7">7</option>
                                <option value="8">8</option>
                            </select>

                        </div>
                        <input id="sem-button" class="btn btn-secondary" type="button" value="Update"
                            onclick="YearsemUpdate()">

                        <p id="msg4"></p>
                    </form>
                </div>
            </div> -->

<!-- 
            <div class="col-md-6">
                <div class="card">
                    <form name="skillupdate" method="post" action="#">
                        <label for="skill">Skills</label>

                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-education"></i></span>

                             
                            <select class="form-control" id="skill" name="skill" onchange="addSkill()">
                                <option value="AI">AI</option>
                                <option value="Web Development">Web Developement</option>
                                <option value="ML">ML</option>
                                <option value="Deep Learning">Deep Learning</option>
                                <option value="Android">Android</option>
                            </select>
                        </div>

                        <p id="skill-box">Selected skill will show here..</p>
                        <div id="skillset"></div>
                        <input class="btn btn-secondary" type="button" value="Update" onclick="skillUpdate()">
                        <p id="msg5"></p>
                    </form>
                </div>
                <br>
            </div> -->





            <!-- <div class="col-md-12" id="titles">
                <h3>UPDATE PASSWORD</h3>
            </div> -->

            <!-- <div class="col-md-12">
                <div class="card" id=up-pass>
                    <form name="passwordUpdate" method="post" action="#">
                        <label for="password">CURRENT PASSWORD</label>

                        <div class="input-group">

                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>

                          
                            <input class="form-control" type="text" placeholder="Current Password" id="password"
                                name="password">
                        </div>

                        <br>
                        <label for="newPassword">NEW PASSWORD</label>
                        <div class="input-group">

                            <span class="input-group-addon"><i class="glyphicon glyphicon-ok"></i></span>

                            <input class="form-control" type="text" placeholder="New Password" id="newPassword"
                                name="newPassword">
                        </div>

                        <input class="btn btn-secondary" type="button" value="Confirm" id="password-button"
                            onclick="sendPasswordData()">
                        <p id="msg6"></p>
                    </form>
                </div>
            </div> -->
        <!-- </div>
    </div> -->

</body>
</html>